<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love Page</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Fredoka+One&display=swap" rel="stylesheet">
<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden; /* locks scrolling */
  background: #111;
  cursor: none !important;
  font-family: 'Fredoka One', cursive;
  user-select: none;        /* prevents text selection */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

#mainText {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 5em;
  font-family: 'Pacifico', cursive;
  font-weight: 700;
  text-shadow: 2px 2px 10px #ff1493;
  z-index: 10;
  pointer-events: none;
  color: #ff69b4;
}

.heart {
  position: absolute;
  color: #ff69b4;
  pointer-events: none;
}

.rainText, .burstText, .burstSmall {
  position: absolute;
  font-weight: 700;
  pointer-events: none;
}

.rainText {
  font-family: 'Fredoka One', cursive;
  color: #ff69b4;
  opacity: 0.8;
}

.burstSmall {
  font-family: 'Fredoka One', cursive;
  color: #fff;
  opacity: 1;
}

.burstText {
  font-family: 'Fredoka One', cursive;
  color: #ff69b4;
  opacity: 0.9;
}
</style>
</head>
<body>

<div id="mainText">I love you Jainayah ❤️</div>
<audio id="clickSound" src="The 1975 - About You (Official) - nabila.mp3"></audio>

<script>
const body = document.body;
const audio = document.getElementById('clickSound');
let audioPlayed = false;

// Detect mobile
const isMobile = /Mobi|Android/i.test(navigator.userAgent);
const scale = isMobile ? 0.6 : 1;

// Scale main text
document.getElementById('mainText').style.fontSize = `${5*scale}em`;

// Custom Heart Cursor
const cursor = document.createElement('div');
cursor.style.position = 'fixed';
cursor.style.width = `${30*scale}px`;
cursor.style.height = `${30*scale}px`;
cursor.style.pointerEvents = 'none';
cursor.style.zIndex = 9999;
cursor.style.userSelect = 'none';
cursor.style.fontSize = `${30*scale}px`;
cursor.innerHTML = '❤️';
body.appendChild(cursor);

document.addEventListener('mousemove', e=>{
  cursor.style.left = (e.clientX - 15*scale) + 'px';
  cursor.style.top = (e.clientY - 15*scale) + 'px';
});

// Background Hearts
function createMirroredHeart(){
  const x = Math.random()*window.innerWidth;
  const positions = [x, window.innerWidth - x];
  positions.forEach(pos=>{
    const heart = document.createElement('div');
    heart.className='heart';
    heart.style.fontSize = `${40*scale}px`;
    heart.textContent='❤️';
    heart.style.left=pos+'px';
    heart.style.bottom='0px';
    body.appendChild(heart);

    const duration = isMobile ? 4000 : 3000;
    const start = performance.now();

    function animate(time){
      const progress = (time-start)/duration;
      if(progress < 1){
        heart.style.transform = `translateY(${progress*(window.innerHeight-50)}px)`;
        requestAnimationFrame(animate);
      } else heart.remove();
    }
    requestAnimationFrame(animate);
  });
}
setInterval(createMirroredHeart, isMobile ? 500 : 300);

// Rain Columns
function createRainLine() {
  const marginX = window.innerWidth*0.05;
  const x = marginX + Math.random()*(window.innerWidth-2*marginX);
  const fontSize = 2.5*scale;
  const text = document.createElement('div');
  text.className='rainText';
  text.textContent='I love you';
  text.style.fontSize = `${fontSize}em`;
  text.style.left = x+'px';
  body.appendChild(text);

  const mirrorX = window.innerWidth - x;
  const mirror = document.createElement('div');
  mirror.className='rainText';
  mirror.textContent='I love you';
  mirror.style.fontSize = `${fontSize}em`;
  mirror.style.left = mirrorX+'px';
  body.appendChild(mirror);

  const duration = isMobile ? 1500 : 1200;
  const start = performance.now();

  function animate(time){
    const progress = (time-start)/duration;
    if(progress<1){
      const topPos = progress*(window.innerHeight-50);
      text.style.transform = `translateY(${topPos}px)`;
      mirror.style.transform = `translateY(${topPos}px)`;
      requestAnimationFrame(animate);
    } else {
      text.remove();
      mirror.remove();
    }
  }
  requestAnimationFrame(animate);
}
setInterval(createRainLine, isMobile ? 200 : 100);

// Burst Function
function createBurst(x, y){
  const marginX = window.innerWidth*0.05;
  const marginY = window.innerHeight*0.05;

  // White letters first
  const whiteCount = isMobile ? 4 : 8;
  const whiteLetters = [];
  for(let i=0;i<whiteCount;i++){
    const burst = document.createElement('div');
    burst.textContent = 'I love you baby';
    burst.className='burstSmall';
    burst.style.fontSize = `${2*scale}em`;
    burst.style.left = x+'px';
    burst.style.top = y+'px';
    body.appendChild(burst);
    whiteLetters.push(burst);

    const angle = Math.random()*2*Math.PI;
    const distance = Math.min(200*scale + Math.random()*100*scale, window.innerWidth/2 - marginX);
    const dx = Math.cos(angle)*distance;
    const dy = Math.sin(angle)*distance;
    const start = performance.now();
    const duration = 2500;

    function animate(time){
      const progress = (time-start)/duration;
      if(progress<1){
        burst.style.transform = `translate(${dx*progress}px,${dy*progress}px)`;
        requestAnimationFrame(animate);
      }
    }
    requestAnimationFrame(animate);
  }

  // Pink letters delayed
  setTimeout(()=>{
    const pinkCount = isMobile ? 3 : 6;
    for(let i=0;i<pinkCount;i++){
      const size = Math.random()<0.5?3*scale:2.5*scale;
      const burst = document.createElement('div');
      burst.textContent='I love you baby';
      burst.className='burstText';
      burst.style.fontSize = `${size}em`;
      burst.style.left = x+'px';
      burst.style.top = y+'px';
      body.appendChild(burst);

      const angle = Math.random()*2*Math.PI;
      const distance = Math.min(700*scale + Math.random()*200*scale, window.innerWidth/2 - marginX);
      const dx = Math.cos(angle)*distance;
      const dy = Math.sin(angle)*distance;
      const start = performance.now();
      const duration = 3000;

      function animate(time){
        const progress = (time-start)/duration;
        if(progress<1){
          const moveX = dx*progress;
          const moveY = dy*progress;
          burst.style.transform = `translate(${moveX}px,${moveY}px)`;
          burst.style.opacity = 1-progress;
          requestAnimationFrame(animate);
        } else burst.remove();
      }
      requestAnimationFrame(animate);
    }

    // Fade white letters after pink letters appear
    setTimeout(()=>{
      whiteLetters.forEach(burst=>{
        const startFade = performance.now();
        const fadeDuration = 1200;
        function fade(time){
          const progress = (time-startFade)/fadeDuration;
          if(progress<1){
            burst.style.opacity = 1 - progress;
            requestAnimationFrame(fade);
          } else burst.remove();
        }
        requestAnimationFrame(fade);
      });
    }, 800);
  }, 400);
}

document.addEventListener('click', e=>{
  createBurst(e.clientX, e.clientY);
  if(!audioPlayed){
    audio.play();
    audioPlayed=true;
  }
});

// Pink Fireworks
function createFirework(){
  const sparkCount = (isMobile ? 20 : 30) + Math.floor(Math.random()*10);
  const xOrigin = Math.random()*window.innerWidth;
  const yOrigin = Math.random()*window.innerHeight/2;

  for(let i=0;i<sparkCount;i++){
    const spark = document.createElement('div');
    spark.style.position='absolute';
    spark.style.left=xOrigin+'px';
    spark.style.top=yOrigin+'px';
    spark.style.width=`${4*scale}px`;
    spark.style.height=`${12*scale}px`;
    spark.style.background='#ff69b4';
    spark.style.borderRadius='2px';
    spark.style.pointerEvents='none';
    spark.style.zIndex=5;
    body.appendChild(spark);

    const angle = Math.random()*2*Math.PI;
    const distance = 150*scale + Math.random()*50*scale;
    const dx = Math.cos(angle)*distance;
    const dy = Math.sin(angle)*distance;
    const duration = 1000 + Math.random()*300;
    const start = performance.now();

    function animate(time){
      const progress = (time-start)/duration;
      if(progress<1){
        spark.style.transform = `translate(${dx*progress}px,${dy*progress}px)`;
        spark.style.opacity = 1-progress;
        requestAnimationFrame(animate);
      } else spark.remove();
    }
    requestAnimationFrame(animate);
  }
}
setInterval(createFirework, isMobile ? 600 : 400);
</script>
</body>
</html>
